(this.webpackJsonpview=this.webpackJsonpview||[]).push([[0],{25:function(t,e,n){},26:function(t,e,n){},28:function(t){t.exports=JSON.parse("{}")},54:function(t,e,n){"use strict";n.r(e);var r=n(3),a=n.n(r),c=n(20),s=n.n(c),o=(n(25),n.p,n(26),n(1)),u=n.n(o),i=n(4),p=n(5),d=n(6),l=n(8),f=n(7),b=(n(28),n(0));r.Component;n(30),n(33),n(52);var g=0,m=function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(){var t;return Object(p.a)(this,n),(t=e.call(this)).getFileContext=function(e){var n=e.target.files[0];t.splitStream(n,0,1e5)},t.splitStream=function(){var e=Object(i.a)(u.a.mark((function e(n,r,a){var c,s,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a<=n.size)){e.next=11;break}return c=n.slice(r,a),e.next=4,c.text();case 4:s=e.sent,o=t.getIndex(s,"puid",2),t.setState({ResumeFrom:r+o-100}),i=s.split("\n"),t.ReadRow2(n,i),e.next=13;break;case 11:console.log("Finished Processing File"),t.setState({progressInstance:"Finished Processing File"});case 13:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.ReadRow=function(e,n){for(var r="",a=!1,c=0,s=0;s<=n.length-1;s++)if(n[s].includes("puid")&&(a=!0),a){if(n[s].includes("puid")&&(c+=1),1==c)r+=n[s].includes("puid")?"{"+n[s]:n[s];if(2==c){a=!1,r=r.substring(0,r.length-3);try{console.log(JSON.parse(r))}catch(o){console.log(o)}g+=1,console.log("Products :: ".concat(g)),t.splitStream(e,t.state.ResumeFrom,t.state.ResumeFrom+1e6)}}},t.ReadRow2=function(){var e=Object(i.a)(u.a.mark((function e(n,r){var a,c,s,o,i,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a="",-1,c=!1,s=0,o=0;o<=r.length-1;o++)r[o].includes("puid")&&(c=!0),c&&(r[o].includes("puid")&&(s+=1),1==s&&(i=r[o].includes("puid")?"{"+r[o]:r[o],a+=i),2==s&&(c=!1,a=a.substring(0,a.length-3)));return e.prev=2,p=JSON.parse(a),e.next=6,t.UpdateProduct(p);case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:g+=1,console.log("Products :: ".concat(g)),t.setState({progressInstance:g}),t.splitStream(n,t.state.ResumeFrom,t.state.ResumeFrom+1e6);case 16:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),t.UpdateProduct=function(){var t=Object(i.a)(u.a.mark((function t(e){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.manufacturer.name+" "+e.manufacturerSKU,t.next=3,fetch("https://firewallforce.se/wp-json/wc/v3/update64?name=".concat(n,"&puid=").concat(e.puid,"&sku=").concat(e.manufacturerSKU,"&price=").concat(e.productPriceInfo.price,"&catname=").concat(e.productType.name,"&brand=").concat(e.manufacturer.name,"&shortdesc=").concat(e.shortDescription,"&longdesc=").concat(e.longDescription,"&stock=").concat(e.aggregatedStock,"&stockstatus=").concat(e.aggregatedStatusText,"&attrib1=").concat(e.productType.attributeTypeName1,"&attrib2=").concat(e.productType.attributeTypeName2,"&attrib3=").concat(e.productType.attributeTypeName3,"&attrib4=").concat(e.productType.attributeTypeName4,"&attrib5=").concat(e.productType.attributeTypeName5,"&attrib1v=").concat(e.attributeValue1,"&attrib2v=").concat(e.attributeValue2,"&attrib3v=").concat(e.attributeValue3,"&attrib4v=").concat(e.attributeValue4,"&attrib5v=").concat(e.attributeValue5),{method:"GET",headers:{Authorization:"Basic"+btoa("ck_42a75ce7a233bc1e341e33779723c304e6d820cc:cs_6e5a683ab5f08b62aa1894d8d2ddc4ad69ff0526")}});case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,console.log("resp :: ".concat(JSON.stringify(a))),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.ParseImages=function(t){t.hasOwnProperty("mediaContents")&&t.mediaContents.forEach((function(){}))},t.streamSlice=function(){var e=Object(i.a)(u.a.mark((function e(n,r,a){var c,s,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.slice(r,a),e.next=3,c.text();case 3:return s=e.sent,o=t.getProduct(s,r),t.state.Products.push(o),t.setState({Products:t.state.Products,counter:t.state.counter+1}),i=n.slice(t.state.ResumeFrom,3),e.next=10,i.text();case 10:e.sent;case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.getProduct=function(e,n){var r=t.getIndex(e,"puid",2);t.setState({ResumeFrom:r});var a=e.substring(n-9,r);console.log(a);var c=a.substring(0,a.length-9),s=JSON.parse(c);return console.log(s),s},t.uploadProduct=function(){var t=Object(i.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.state={ResumeFrom:-1,Products:[],counter:0,progressInstance:0},t}return Object(d.a)(n,[{key:"getIndex",value:function(t,e,n){return t.split(e,n).join(e).length}},{key:"render",value:function(){var t=this;return Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"file",onChange:function(e){t.getFileContext(e)}}),Object(b.jsxs)("h5",{children:[" ",this.state.progressInstance," "]})]})}}]),n}(r.Component);var h=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(m,{})})},v=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),c(t),s(t)}))};n(53);s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(h,{})}),document.getElementById("root")),v()}},[[54,1,2]]]);
//# sourceMappingURL=main.0adb4dcc.chunk.js.map