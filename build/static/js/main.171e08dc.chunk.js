(this.webpackJsonpview=this.webpackJsonpview||[]).push([[0],{202:function(e,t,n){},203:function(e,t,n){},205:function(e){e.exports=JSON.parse("{}")},245:function(e,t){},247:function(e,t){},256:function(e,t){},258:function(e,t){},283:function(e,t){},284:function(e,t){},289:function(e,t){},291:function(e,t){},298:function(e,t){},317:function(e,t){},356:function(e,t){},450:function(e,t,n){"use strict";n.r(t);var o=n(30),c=n.n(o),s=n(197),a=n.n(s),r=(n(202),n.p,n(203),n(15)),i=n.n(r),u=n(31),l=n(69),p=n(70),d=n(73),f=n(72),g=(n(205),n(14));o.Component;var m=n(71),h=(n(207),n(209),n(227),n(228)),v=0,b=[],y=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).componentDidMount=function(){},e.WooApi=function(){var e=new h({url:"https://firewallforce.se/",consumerKey:"ck_42a75ce7a233bc1e341e33779723c304e6d820cc",consumerSecret:"cs_6e5a683ab5f08b62aa1894d8d2ddc4ad69ff0526",wpAPI:!0,version:"wc/v2"});alert("start");e.post("products",{product:{name:"node Product",title:"Premium Quality",type:"simple",regular_price:"21.99",description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",short_description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.",categories:[{id:916,name:"Barebone",slug:"barebone"}],images:[{src:"http://example.com/wp-content/uploads/2015/01/premium-quality-front.jpg",position:0},{src:"http://example.com/wp-content/uploads/2015/01/premium-quality-back.jpg",position:1}]}},(function(e,t,n){alert("success"),console.log(n)}))},e.getFileContext=function(t){var n=t.target.files[0];e.splitStream(n,0,1e5)},e.splitStream=function(){var t=Object(u.a)(i.a.mark((function t(n,o,c){var s,a,r,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c<=n.size)){t.next=11;break}return s=n.slice(o,c),t.next=4,s.text();case 4:a=t.sent,r=e.getIndex(a,"puid",2),e.setState({ResumeFrom:o+r-100}),u=a.split("\n"),e.ReadRow2(n,u),t.next=13;break;case 11:console.log("Finished Processing File"),e.setState({progressInstance:"Finished Processing File"});case 13:case"end":return t.stop()}}),t)})));return function(e,n,o){return t.apply(this,arguments)}}(),e.ReadRow2=function(){var t=Object(u.a)(i.a.mark((function t(n,o){var c,s,a,r,u,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(c="",-1,s=!1,a=0,r=0;r<=o.length-1;r++)o[r].includes("puid")&&(s=!0),s&&(o[r].includes("puid")&&(a+=1),1==a&&(u=o[r].includes("puid")?"{"+o[r]:o[r],c+=u),2==a&&(s=!1,c=c.substring(0,c.length-3)));try{l=JSON.parse(c),e.UpdateProduct(l,n)}catch(i){console.log("Catch :: ".concat(i)),e.Resumify(n)}case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.Resumify=function(t){e.splitStream(t,e.state.ResumeFrom,e.state.ResumeFrom+1e6)},e.UpdateProduct=function(){var t=Object(u.a)(i.a.mark((function t(n,o){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b.push(n),5==b.length?(console.log("5 products bundled"),e.Fetch(b),setInterval((function(){5==e.state.SequenceCount&&(console.log("5 products uploaded"),b=[],e.setState({SequenceCount:0}),e.Resumify(o))}),1e3)):(console.log("Resume: Products "),e.Resumify(o));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.Fetch=function(t){console.log("name :: ".concat(t[0].productType.name)),e.ParseImages(t),console.log("Images :: ".concat(t[1].images)),console.log("Status :: Sending:Request");var n=Object(m.a)(e);fetch("https://firewallforce.se/wp-json/wc/v3/postify?",{method:"POST",body:JSON.stringify({info:t}),headers:{Authorization:"Basic"+btoa("ck_42a75ce7a233bc1e341e33779723c304e6d820cc:cs_6e5a683ab5f08b62aa1894d8d2ddc4ad69ff0526"),"Content-Type":"application/json"}}).then((function(t){t.text().then((function(t){console.log("Text :: ".concat(t));try{var o=JSON.parse(t);return v+=5,console.log("resp :: ".concat(JSON.stringify(o))),e.updateCategoriesRecurv(o),console.log("Products :: ".concat(v)),n.setState({progressInstance:v,SequenceCount:e.state.SequenceCount+=5}),o}catch(c){console.log("@jsn safe"),console.log(c),console.log(t),v+=5,n.setState({progressInstance:v,SequenceCount:e.state.SequenceCount+=5})}}))})).catch((function(e){console.log(e),console.log("@gobal safe!")}))},e.updateCategoriesRecurv=function(t){console.log("resp Json 0: ".concat(t[0])),t[0].hasOwnProperty("category")&&e.updateCategories(t[0].id,t[0].category),t[1].hasOwnProperty("category")&&e.updateCategories(t[1].id,t[1].category),t[2].hasOwnProperty("category")&&e.updateCategories(t[2].id,t[2].category),t[3].hasOwnProperty("category")&&e.updateCategories(t[3].id,t[3].category),t[4].hasOwnProperty("category")&&e.updateCategories(t[4].id,t[4].category)},e.updateCategories=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("id :: ".concat(t," & cat :: ").concat(n)),n.includes("&")&&(n=n.split("&").join("*")),n.includes(" ")&&(n=n.split(" ").join("%20")),console.log(n),e.next=6,fetch("https://firewallforce.se/wp-json/wc/v3/upcat?setcategory=".concat(n,"&id=").concat(t));case 6:return o=e.sent,e.next=9,o.text();case 9:c=e.sent,console.log("Update Cat Resp :: ".concat(JSON.stringify(c)));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.ParseImages=function(e){e.forEach((function(e){var t=[];e.hasOwnProperty("mediaContents")&&(e.mediaContents.forEach((function(e){if(e.value.includes("img")){var n=e.value.split("/").join("*");n=n.split("&").join("^"),t.push(n)}})),e.images=t,t=[])}))},e.streamSlice=function(){var t=Object(u.a)(i.a.mark((function t(n,o,c){var s,a,r,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n.slice(o,c),t.next=3,s.text();case 3:return a=t.sent,r=e.getProduct(a,o),e.state.Products.push(r),e.setState({Products:e.state.Products,counter:e.state.counter+1}),u=n.slice(e.state.ResumeFrom,3),t.next=10,u.text();case 10:t.sent;case 11:case"end":return t.stop()}}),t)})));return function(e,n,o){return t.apply(this,arguments)}}(),e.getProduct=function(t,n){var o=e.getIndex(t,"puid",2);e.setState({ResumeFrom:o});var c=t.substring(n-9,o);console.log(c);var s=c.substring(0,c.length-9),a=JSON.parse(s);return console.log(a),a},e.nodechecker=function(){},e.state={ResumeFrom:-1,Products:[],counter:0,progressInstance:0,Pause:!1,SequenceCount:!1,catCount:0},e}return Object(p.a)(n,[{key:"getIndex",value:function(e,t,n){return e.split(t,n).join(t).length}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{type:"file",onChange:function(t){e.getFileContext(t)}}),Object(g.jsxs)("h5",{children:[" ",this.state.progressInstance," "]})]})}}]),n}(o.Component);var j=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(y,{})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,452)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),o(e),c(e),s(e),a(e)}))};n(449);a.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(j,{})}),document.getElementById("root")),w()}},[[450,1,2]]]);
//# sourceMappingURL=main.171e08dc.chunk.js.map