(this.webpackJsonpview=this.webpackJsonpview||[]).push([[0],{202:function(e,t,n){},203:function(e,t,n){},205:function(e){e.exports=JSON.parse("{}")},245:function(e,t){},247:function(e,t){},256:function(e,t){},258:function(e,t){},283:function(e,t){},284:function(e,t){},289:function(e,t){},291:function(e,t){},298:function(e,t){},317:function(e,t){},356:function(e,t){},450:function(e,t,n){"use strict";n.r(t);var a=n(31),s=n.n(a),o=n(197),c=n.n(o),r=(n(202),n.p,n(203),n(14)),i=n.n(r),u=n(24),p=n(69),l=n(70),d=n(73),f=n(72),g=(n(205),n(15));a.Component;var m=n(71),h=(n(207),n(209),n(227),n(228)),y=0,b=[],v=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).componentDidMount=function(){},e.WooApi=function(){var e=new h({url:"https://firewallforce.se/",consumerKey:"ck_42a75ce7a233bc1e341e33779723c304e6d820cc",consumerSecret:"cs_6e5a683ab5f08b62aa1894d8d2ddc4ad69ff0526",wpAPI:!0,version:"wc/v2"});alert("start");e.post("products",{product:{name:"node Product",title:"Premium Quality",type:"simple",regular_price:"21.99",description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",short_description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.",categories:[{id:916,name:"Barebone",slug:"barebone"}],images:[{src:"http://example.com/wp-content/uploads/2015/01/premium-quality-front.jpg",position:0},{src:"http://example.com/wp-content/uploads/2015/01/premium-quality-back.jpg",position:1}]}},(function(e,t,n){alert("success"),console.log(n)}))},e.getFileContext=function(t){var n=t.target.files[0];e.splitStream(n,0,1e5)},e.splitStream=function(){var t=Object(u.a)(i.a.mark((function t(n,a,s){var o,c,r,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s<=n.size)){t.next=11;break}return o=n.slice(a,s),t.next=4,o.text();case 4:c=t.sent,r=e.getIndex(c,"puid",2),e.setState({ResumeFrom:a+r-100}),u=c.split("\n"),e.ReadRow2(n,u),t.next=13;break;case 11:console.log("Finished Processing File"),e.setState({progressInstance:"Finished Processing File"});case 13:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.ReadRow2=function(){var t=Object(u.a)(i.a.mark((function t(n,a){var s,o,c,r,u,p;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(s="",-1,o=!1,c=0,r=0;r<=a.length-1;r++)a[r].includes("puid")&&(o=!0),o&&(a[r].includes("puid")&&(c+=1),1==c&&(u=a[r].includes("puid")?"{"+a[r]:a[r],s+=u),2==c&&(o=!1,s=s.substring(0,s.length-3)));try{p=JSON.parse(s),e.UpdateProduct(p,n)}catch(i){console.log("Catch :: ".concat(i)),e.Resumify(n)}case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.Resumify=function(t){e.splitStream(t,e.state.ResumeFrom,e.state.ResumeFrom+1e6)},e.UpdateProduct=function(){var t=Object(u.a)(i.a.mark((function t(n,a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b.push(n),5==b.length?(console.log("5 products bundled"),e.Fetch(b),setInterval((function(){5==e.state.SequenceCount&&(console.log("5 products uploaded"),b=[],e.setState({SequenceCount:0}),e.Resumify(a))}),1e3)):(console.log("Resume: Products "),e.Resumify(a));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.Fetch=function(t){console.log("name :: ".concat(t[0].manufacturerSKU)),e.ParseImages(t),console.log("Status :: Sending:Request");var n=Object(m.a)(e);fetch("https://firewallforce.se/wp-json/wc/v3/postify?",{method:"POST",body:JSON.stringify({info:t}),headers:{Authorization:"Basic"+btoa("ck_42a75ce7a233bc1e341e33779723c304e6d820cc:cs_6e5a683ab5f08b62aa1894d8d2ddc4ad69ff0526"),"Content-Type":"application/json"}}).then((function(t){t.text().then((function(t){console.log("Text :: ".concat(t));try{var a=JSON.parse(t);return console.log("resp :: ".concat(JSON.stringify(a))),e.reupdate(a),y+=5,console.log("Products :: ".concat(y)),n.setState({progressInstance:y,SequenceCount:e.state.SequenceCount+=5}),a}catch(s){console.log("@jsn safe"),console.log(s),console.log(t),y+=5,n.setState({progressInstance:y,SequenceCount:e.state.SequenceCount+=5})}}))})).catch((function(e){console.log(e),console.log("@gobal safe!")}))},e.reupdate=function(t){t[0].hasOwnProperty("category")&&e.updateCategories(t[0].id,t[0].category),t[1].hasOwnProperty("category")&&e.updateCategories(t[1].id,t[1].category),t[2].hasOwnProperty("category")&&e.updateCategories(t[2].id,t[2].category),t[3].hasOwnProperty("category")&&e.updateCategories(t[3].id,t[3].category),t[4].hasOwnProperty("category")&&e.updateCategories(t[4].id,t[4].category),t[0].hasOwnProperty("images")&&e.updateImages(t[0]),t[1].hasOwnProperty("images")&&e.updateImages(t[1]),t[2].hasOwnProperty("images")&&e.updateImages(t[2]),t[3].hasOwnProperty("images")&&e.updateImages(t[3]),t[4].hasOwnProperty("images")&&e.updateImages(t[4])},e.updateImages=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://firewallforce.se/wp-json/wc/v3/updateimages?",{method:"POST",body:JSON.stringify({info:t}),headers:{Authorization:"Basic"+btoa("ck_42a75ce7a233bc1e341e33779723c304e6d820cc:cs_6e5a683ab5f08b62aa1894d8d2ddc4ad69ff0526"),"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,console.log("Update Image Resp :: ".concat(JSON.stringify(a)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.updateCategories=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("id :: ".concat(t," & cat :: ").concat(n)),n.includes("&")&&(n=n.split("&").join("*")),n.includes(" ")&&(n=n.split(" ").join("%20")),console.log(n),e.next=6,fetch("https://firewallforce.se/wp-json/wc/v3/upcat?setcategory=".concat(n,"&id=").concat(t));case 6:return a=e.sent,e.next=9,a.text();case 9:s=e.sent,console.log("Update Cat Resp :: ".concat(JSON.stringify(s)));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.ParseImages=function(e){e.forEach((function(e){var t=[];e.hasOwnProperty("mediaContents")&&(e.mediaContents.forEach((function(e){if(e.value.includes("img")){var n=e.value.split("/").join("*");n=n.split("&").join("^"),t.push(n)}})),e.images=t,t=[])}))},e.streamSlice=function(){var t=Object(u.a)(i.a.mark((function t(n,a,s){var o,c,r,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.slice(a,s),t.next=3,o.text();case 3:return c=t.sent,r=e.getProduct(c,a),e.state.Products.push(r),e.setState({Products:e.state.Products,counter:e.state.counter+1}),u=n.slice(e.state.ResumeFrom,3),t.next=10,u.text();case 10:t.sent;case 11:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getProduct=function(t,n){var a=e.getIndex(t,"puid",2);e.setState({ResumeFrom:a});var s=t.substring(n-9,a);console.log(s);var o=s.substring(0,s.length-9),c=JSON.parse(o);return console.log(c),c},e.nodechecker=function(){},e.state={ResumeFrom:-1,Products:[],counter:0,progressInstance:0,Pause:!1,SequenceCount:!1,catCount:0},e}return Object(l.a)(n,[{key:"getIndex",value:function(e,t,n){return e.split(t,n).join(t).length}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{type:"file",onChange:function(t){e.getFileContext(t)}}),Object(g.jsxs)("h5",{children:[" ",this.state.progressInstance," "]})]})}}]),n}(a.Component);var w=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(v,{})})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,452)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),o(e),c(e)}))};n(449);c.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(w,{})}),document.getElementById("root")),O()}},[[450,1,2]]]);
//# sourceMappingURL=main.dff9be6f.chunk.js.map